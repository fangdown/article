(window.webpackJsonp=window.webpackJsonp||[]).push([[224],{347:function(a,e,t){"use strict";t.r(e);var r=t(0),s=Object(r.a)({},function(){var a=this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"content"},[t("h2",{attrs:{id:"浏览器缓存优化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#浏览器缓存优化","aria-hidden":"true"}},[a._v("#")]),a._v(" 浏览器缓存优化")]),t("h3",{attrs:{id:"_4个方面"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4个方面","aria-hidden":"true"}},[a._v("#")]),a._v(" 4个方面")]),t("p",[a._v("依次为：")]),t("ol",[t("li",[a._v("Memory Cache -内存")]),t("li",[a._v("Service Worker Cache - 针对Service Worker Cache 类型")]),t("li",[a._v("HTTP Cache - 主流")]),t("li",[a._v("Push Cache - http2特性")])]),t("h3",{attrs:{id:"http缓存"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#http缓存","aria-hidden":"true"}},[a._v("#")]),a._v(" http缓存")]),t("h4",{attrs:{id:"强缓存"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#强缓存","aria-hidden":"true"}},[a._v("#")]),a._v(" 强缓存")]),t("ol",[t("li",[a._v("expires - 单位是时间，存在时间不一致的问题")])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("  expires: Wed, 11 Sep 2019 16:12:18 GMT\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[a._v("cache-control - 单位是秒，存活时间")])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("  cache-control: max-age=3600, s-maxage=31536000\n")])])]),t("blockquote",[t("p",[a._v("s-maxage 优先级高于 max-age，两者同时出现时，优先考虑 s-maxage。如果 s-maxage 未过期，则向代理服务器请求其缓存内容。s-maxage针对cdn等代理,对\bpublic有效")])]),t("ul",[t("li",[a._v("public vs private")])]),t("p",[a._v("public 可以被浏览器缓存，可以被代理缓存（设置了 s-maxage，maxage public可以不用手动设置）")]),t("p",[a._v("private 只可以被浏览器缓存,默认值")]),t("ul",[t("li",[a._v("no-store vs no-cache")])]),t("p",[a._v("no-store 直接请求服务器，拉取新数据，不进行缓存判断\nno-cache 绕过浏览器，询问服务器是否过期，过期就重新拉，否则用缓存")]),t("h4",{attrs:{id:"协商缓存"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#协商缓存","aria-hidden":"true"}},[a._v("#")]),a._v(" 协商缓存")]),t("ol",[t("li",[t("p",[a._v("Last-Modified if-modified-since\n优点： 以文件修改时间为标准判断是否更改\n缺点： \b秒级以内的修改检测不到")])]),t("li",[t("p",[a._v("Etag\n优点：以文件内容是否变化为标准\n缺点：集群时会遇到不同步时，状态紊乱")])])]),t("p",[t("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/9/20/165f701820fafcf8?imageView2/0/w/1280/h/960/format/webp/ignore-error/1",alt:""}})])])}],!1,null,null,null);e.default=s.exports}}]);