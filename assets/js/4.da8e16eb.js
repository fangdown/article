(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{145:function(t,a,s){t.exports=s.p+"assets/img/cors.196f7e32.jpg"},216:function(t,a,s){"use strict";s.r(a);var e=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[e("h2",{attrs:{id:"跨域"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#跨域","aria-hidden":"true"}},[t._v("#")]),t._v(" 跨域")]),e("blockquote",[e("p",[t._v("什么是跨域：因浏览器同源政策限制，不同域之间的数据交互是被禁止的，除了script元素\n跨域的方式：8种方式")])]),e("h3",{attrs:{id:"骨架"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#骨架","aria-hidden":"true"}},[t._v("#")]),t._v(" 骨架")]),e("ol",[e("li",[t._v("cors - 服务端设置head请求数据 allow-methods, allow-origin")]),e("li",[t._v("jsonp - 动态创建script元素，请求数据，\b回调函数执行返回数据")]),e("li",[t._v("document.domain + iframe - \b设置相同主域")]),e("li",[t._v("window.name + iframe - 同一个窗口的name属性共享")]),e("li",[t._v("location.hash + iframe - 通过\bhash值传递")]),e("li",[t._v("postMessage + iframe - H5新特性 \bpostMessage onMessage")]),e("li",[t._v("ngix反向代理")]),e("li",[t._v("浏览器设置跨域 - 供开发使用")])]),e("h3",{attrs:{id:"同源政策限制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#同源政策限制","aria-hidden":"true"}},[t._v("#")]),t._v(" 同源政策限制")]),e("p",[t._v("同源策略的限制：\n存储在浏览器中的数据，如localStroage、Cooke和IndexedDB不能通过脚本跨域访问\n不能通过脚本操作不同域下的DOM\n不能通过ajax请求不同域的数据")]),e("h3",{attrs:{id:"详情"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#详情","aria-hidden":"true"}},[t._v("#")]),t._v(" 详情")]),e("ol",[e("li",[t._v("cors，跨域资源共享，设置head信息\n"),e("img",{attrs:{src:s(145),alt:""}})]),e("li",[t._v("jsonp")])]),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ele "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  ele"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://xxxx.com?callback=back'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  document"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementsByTagName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'head'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ele"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[t._v("document.domain")])]),e("ul",[e("li",[t._v("前置条件是必需拥有共同的顶级域名")]),e("li",[t._v("不可ajax")])]),e("ol",{attrs:{start:"4"}},[e("li",[t._v("ngix反向代理")])]),e("ul",[e("li",[t._v("正向代理\n设置代理服务器，对象是客户端，浏览器")]),e("li",[t._v("反向代理\n浏览器不需做配置\n对象是服务端\nngix配置rewrite")])]),e("ol",{attrs:{start:"5"}},[e("li",[t._v("浏览器设置跨域")])]),e("ul",[e("li",[t._v("49版本之前： --disable-web-security")]),e("li",[t._v("49版本之后：在电脑上新建一个目录，例如：C:\\MyChromeDevUserData，"),e("br"),t._v("\n在属性页面中的目标输入框里加上   --disable-web-security --user-data-dir=C:\\MyChromeDevUserData，--user-data-dir的值就是刚才新建的目录")])])])}],n=s(0),r=Object(n.a)({},function(){var t=this.$createElement;this._self._c;return this._m(0)},e,!1,null,null,null);a.default=r.exports}}]);